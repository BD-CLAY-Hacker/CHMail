# copy 
import base64
exec(base64.b64decode('I2ltcG9ydHMKCmltcG9ydCBvcwppbXBvcnQgc3lzCmltcG9ydCB0aW1lCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgoKI2ZuZ3Rpb25zCgpkZWYgcHNiKHopOgogICAgZm9yIGwgaW4geiArICJcbiI6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShsKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAoMC4wMykKCmRlZiBsb2dvcHNiKHopOgogICAgZm9yIGwgaW4geiArICJcbiI6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShsKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAoMC4wMDEpCgoKZGVmIGxvZ28oKToKICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogICAgb3Muc3lzdGVtKCJsb2xjYXQgLmxvZ28udHh0IikKIyAgICBsb2dvcHNiKCJcMDMzWzkybSBfX19fXyAgICAgICAgIF8gICAgICBfXyAgX18gICAgICAgXyBfIFxufF8gICBffF9fX18gIF8oXykgX19ffCAgXC8gIHwgX18gXyhfKSB8XG4gIHwgfC8gXyBcIFwvIC8gfC8gX198IHxcL3wgfC8gX2AgfCB8IHxcbiAgfCB8IChfKSA+ICA8fCB8IChfX3wgfCAgfCB8IChffCB8IHwgfFxuICB8X3xcX19fL18vXF9cX3xcX19ffF98ICB8X3xcX18sX3xffF98XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiKQojICAgIGxvZ29wc2IoIlwwMzNbMzs5MG1cdFx0QSBQcm9kdWN0IE9mIFRveGljTm9vYlwwMzNbMDs5Mm0iKQojICAgIHRpbWUuc2xlZXAoMC4zKQojICAgIGxvZ29wc2IoIlwwMzNbMzRtXG58KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKnxcbnxcMDMzWzNtIEF1dGhvciAgIDogVG94aWNOb29iICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwwMzNbMDszNG18XG58XDAzM1szbSBUb29sICAgICA6IFRlbXBvcmFyeSBFbWFpbCBHZW5lcmF0b3IgICAgICAgICAgICAgICBcMDMzWzA7MzRtfFxufFwwMzNbM20gVmVyc2lvbiAgOiAxLjAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXDAzM1swOzM0bXxcbnxcMDMzWzNtIExpbmsgICAgIDogaHR0cHM6Ly93d3cuZ2l0aHViLmNvbS9Ub3hpYy1Ob29iLwkgICAgIFwwMzNbMDszNG18XG58XDAzM1szbSBDb2RlZCBCeSA6IEh1bnRlclNsNGQzICAgICAgCQkgICAgIAkgICAgIFwwMzNbMDszNG18XG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioiKQojICAgIHRpbWUuc2xlZXAoMC41KQoKZGVmIGxvZ291dCgpOgogICAgcHNiKCJcblwwMzNbOTJtIFx0WypdIFRoYW5rcyBGb3IgVXNpbmcgT3VyIFRvb2wuLiIpCiAgICBwc2IoIiAgICBcblsqXSBGb3IgTW9yZSBUb29scywgVmlzaXQgOiBcbiIpCiAgICBwc2IoIiAgICAgXG4gW1s+XV0gaHR0cHM6Ly9naXRodWIuY29tL0JELUNMQVktSGFja2VyXG4iKQogICAgc3lzLmV4aXQoKQoKZGVmIHZlcl9jaGVjaygpOgogICAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgICAgcHJpbnQoIk5vIFVvZGF0ZXMgLyEhLyEiKQojICAgICBsb2dvKCkKIyAgICAgcHNiKCJcMDMzWzkybVxuICAgIFsqXSBQbGVhc2UgV2FpdC4uLi4iKQojICAgICBwc2IoIiAgICBbKl0gRmV0Y2hpbmcgRGF0YS4uLi4iKQojICAgIHRyeToKIyAgICAgICAgdmVybm93ID0gb3BlbigiLnZlcnNpb24iLCAiciIpLnJlYWQoKQojICAgIGV4Y2VwdDoKIyAgICAgICAgdmVybm93ID0gIk5vbmUiCiMgICAgd2hpbGUgVHJ1ZToKIyAgICAgICAgdHJ5OgojICAgICAgICAgICAgbWFpbnZlciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1RveGljLU5vb2IvVG94aWNNYWlsL21haW4vLnZlcnNpb24iKS50ZXh0CiPgp7MgICAgICAgICAgICBicmVhayAgICAgICBleGNlcHQ6CiMgICAgICAgICAgICBwc2IoIlxuXDAzM1s5MW0gICAgWyFdIFBsZWFzZSBDb25uZWN0IFRvIFRoZSBJbnRlcm5ldC4uLiIpCiMgICAgICAgICAgICBrID0gaW5wdXQoIlwwMzNbOTJtXG4gICAgWypdIFByZXNzIEVudGVyIFRvIENvbnRpbnVlLi4uIikKIyAgICBpZiBub3QgKHZlcm5vdyA9PSBtYWludmVyKToKIyAgICAgICAgcHNiKCJcbiAgICBbKl0gVG9vbCBVcGRhdGUgRm91bmQuLi4iKQojICAgICAgICBwc2IoIiAgICBbKl0gVXBkYXRpbmcgVG9vbC4uLiIpCiMgICAgICAgb3Muc3lzdGVtKCJjZCAuLiAmJiBybSAtcmYgVG94aWNNYWlsICYmIGdpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vVG94aWMtTm9vYi9Ub3hpY01haWwgPiAvZGV2L251bGwgMj4mMSIpCiMgICAgICAgIHBzYigiXG4gICAgWypdIFRvb2wgVXBkYXRlIENvbXBsZXRlLi4uIikKIyAgICAgICAgcHNiKCIgICAgWypdIFN0YXJ0aW5nIFRvb2wuLi4iKQojICAgICAgICB0aW1lLnNsZWVwKDAuNykKIyAgICAgICAgb3Muc3lzdGVtKCJjZCAuLiAmJiBjZCBUb3hpY01haWwgJiYgcHl0aG9uIG1haWwucHkiKQojICAgIGVsc2U6CiMgICAgICAgIHBzYigiXG5cMDMzWzkybSAgICBbKl0gRGF0YSBTdWNjZXNzZnVsbHkgRmV0Y2hlZC4uLiEhIikKIyAjICAgICAgIHBzYigiICAgIFsqXSBXZWxDb21lISEiKQojIyAgICAgICAgdGltZS5zbGVlcCgwLjgpCgojCgpkZWYgcmFuZG9tX21haWwoKToKICAgIGpzb25fZGF0YSA9IHsKICAgICJtaW5fbmFtZV9sZW5ndGgiIDogMTAsCiAgICAibWF4X25hbWVfbGVuZ3RoIiA6IDEwCiAgICB9CiAgICB1cmwgPSAgImh0dHBzOi8vYXBpLmludGVybmFsLnRlbXAtbWFpbC5pby9hcGkvdjMvZW1haWwvbmV3IgogICAgcmUgPSByZXF1ZXN0cy5wb3N0KHVybCwganNvbiA9IGpzb25fZGF0YSkKICAgIGRhdGEgPSBqc29uLmxvYWRzKHJlLnRleHQpWyJlbWFpbCJdCiAgICByZXR1cm4gZGF0YQoKCmRlZiBkb21haW5fY2hvb3NlKCk6CiAgICBwcmludCgiXDAzM1s5Mm1cbiAgICBbMDFdIGNsb3VkLW1haWwudG9wIikKICAgIHByaW50KCIgICAgWzAyXSBidXktYmxvZy5jb20iKQogICAgcHJpbnQoIiAgICBbMDNdIHRoZTIzYXBwLmNvbSIpCiAgICBwcmludCgiICAgIFswNF0gbWFjLTI0LmNvbSIpCiAgICBwcmludCgiICAgIFswNV0gdGhlam9rZXI1LmNvbSIpCiAgICBwcmludCgiICAgIFswNl0gZ3JlZW5jYWZlMjQuY29tIikKICAgIHByaW50KCIgICAgWzA3XSBjcmVwZWF1MTIuY29tIikKICAgIHByaW50KCIgICAgWzA4XSBhcHB6aWx5LmNvbSIpCiAgICBwcmludCgiICAgIFswOV0gY29mZmVldGltZXIyNC5jb20iKQogICAgcHJpbnQoIiAgICBbMTBdIHBvcGNvcm5mYXJtNy5jb20iKQogICAgcHJpbnQoIiAgICBbMTFdIGJlc3RwYXJhZGl6ZS5jb20iKQogICAgcHJpbnQoIiAgICBbMTJdIGtqa3N6cGpjb21wYW55LmNvbSIpCiAgICBwcmludCgiICAgIFsxM10gY2FzaGZsb3czNS5jb20iKQogICAgcHJpbnQoIiAgICBbMTRdIGNyb3NzbWFpbGpldC5jb20iKQogICAgcHJpbnQoIiAgICBbMTVdIGtvYnJhbmRseS5jb20iKQogICAgcHJpbnQoIiAgICBbMTZdIGJsb25kZW1vcmtpbi5jb20iKQogICAgZG9tID0gaW5wdXQoIlwwMzNbOTJtXG4gICAgWypdIEVudGVyIFlvdXIgRG9tYWluIENob2ljZTo+IFwwMzNbMzdtIikKICAgIGlmIG5vdCAoZG9tID09ICIxMCIpOgogICAgICAgIGRvbSA9IGRvbS5yZXBsYWNlKCIwIiwgIiIpCiAgICB3aGlsZSBub3QgZG9tIGluIFsiMSIsICIyIiwgIjMiLCAiNCIsICI1IiwgIjYiLCAiNyIsICI4IiwgIjkiLCAiMTAiLCAiMTEiLCAiMTIiLCAiMTMiLCAiMTQiLCAiMTUiXToKICAgICAgICBwcmludCgiXG5cMDMzWzkxbSAgICBbIV0gRW50ZXIgYSBDb3JyZWN0IENob2ljZSEhXDAzM1szN20iKQogICAgICAgIGRvbSA9IGlucHV0KCJcMDMzWzkybVxuICAgIFsqXSBFbnRlciBZb3VyIERvbWFpbiBDaG9pY2U6PiBcMDMzWzM3bSIpCiAgICAgICAgaWYgbm90IChkb20gPT0gIjEwIik6CiAgICAgICAgICAgIGRvbSA9IGRvbS5yZXBsYWNlKCIwIiwgIiIpCiAgICBpZiAoZG9tID09ICIxIik6CiAgICAgICAgZG9tcyA9ICJjbG91ZC1tYWlsLnRvcCIKICAgIGVsaWYgKGRvbSA9PSAiMiIpOgogICAgICAgIGRvbXMgPSAiYnV5LWJsb2cuY29tIgogICAgZWxpZiAoZG9tID09ICIzIik6CiAgICAgICAgZG9tcyA9ICJ0aGUyM2FwcC5jb20iCiAgICBlbGlmIChkb20gPT0gIjQiKToKICAgICAgICBkb21zID0gIm1hYy0yNC5jb20iCiAgICBlbGlmIChkb20gPT0gIjUiKToKICAgICAgICBkb21zID0gInRoZWpva2VyNS5jb20iCiAgICBlbGlmIChkb20gPT0gIjYiKToKICAgICAgICBkb21zID0gImdyZWVuY2FmZTI0LmNvbSIKICAgIGVsaWYgKGRvbSA9PSAiNyIpOgogICAgICAgIGRvbXMgPSAiY3JlcGVhdTEyLmNvbSIKICAgIGVsaWYgKGRvbSA9PSAiOCIpOgogICAgICAgIGRvbXMgPSAiYXBwemlseS5jb20iCiAgICBlbGlmIChkb20gPT0gIjkiKToKICAgICAgICBkb21zID0gImNvZmZlZXRpbWVyMjQuY29tIgogICAgZWxpZiAoZG9tID09ICIxMCIpOgogICAgICAgIGRvbXMgPSAicG9wY29ybmZhcm03LmNvbSIKICAgIGVsaWYgKGRvbSA9PSAiMTEiKToKICAgICAgICBkb21zID0gImJlc3RwYXJhZGl6ZS5jb20iCiAgICBlbGlmIChkb20gPT0gIjEyIik6CiAgICAgICAgZG9tcyA9ICJramtzenBqY29tcGFueS5jb20iCiAgICBlbGlmIChkb20gPT0gIjEzIik6CiAgICAgICAgZG9tcyA9ICJjYXNoZmxvdzM1LmNvbSIKICAgIGVsaWYgKGRvbSA9PSAiMTQiKToKICAgICAgICBkb21zID0gImNyb3NzbWFpbGpldC5jb20iCiAgICBlbGlmIChkb20gPT0gIjE1Iik6CiAgICAgICAgZG9tcyA9ICJrb2JyYW5kbHkuY29tIgogICAgZWxpZiAoZG9tID09ICIxNiIpOgogICAgICAgIGRvbXMgPSAiYmxvbmRlbW9ya2luLmNvbSIKICAgICAgICAKICAgIHJldHVybiBkb21zCgpkZWYgY3JlYXRlX21haWwoKToKICAgIHVybCA9ICJodHRwczovL2FwaS5pbnRlcm5hbC50ZW1wLW1haWwuaW8vYXBpL3YzL2VtYWlsL25ldyIKICAgIG5hbWUgPSBpbnB1dCgiXDAzM1s5Mm1cbiAgICBbKl0gRW50ZXIgRW1haWwgTmFtZTo+IFwwMzNbMzdtIikKICAgIGRvbWFpbiA9IGRvbWFpbl9jaG9vc2UoKQogICAgZGF0YSA9IG5hbWUrIkAiK2RvbWFpbgogICAgY29zdF9kYXRhID0gewogICAgICAgICJuYW1lIiA6IG5hbWUsCiAgICAgICAgImRvbWFpbiIgOiBkb21haW4KICAgIH0KICAgIGogPSByZXF1ZXN0cy5wb3N0KHVybCwganNvbiA9IGNvc3RfZGF0YSkKICAgIHJldHVybiBkYXRhCgoKZGVmIHByaW50X21haWwoZGF0YSk6CiAgICBkYXRhID0ganNvbi5sb2FkcyhkYXRhKQogICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKCIudG1wIik6CiAgICAgICAgb3Muc3lzdGVtKCJ0b3VjaCAudG1wIikKICAgIGVtX2NvbnQgPSAxCiAgICBmb3IgZW1fZGF0YSBpbiBkYXRhOgogICAgICAgIGRhdGFfaWQgPSBzdHIoZW1fZGF0YVsiaWQiXSkKICAgICAgICBvcG4gPSBvcGVuKCIudG1wIiwgInIiKS5yZWFkKCkKICAgICAgICBpZiBkYXRhX2lkIGluIG9wbjoKICAgICAgICAgICAgY29udGludWUKICAgICAgICB3cnQgPSBvcGVuKCIudG1wIiwgInciKQogICAgICAgIHdydC53cml0ZShvcG4rIlxuIitkYXRhX2lkKQogICAgICAgIHdydC5jbG9zZSgpCiAgICAgICAgZnJtID0gZW1fZGF0YVsiZnJvbSJdCiAgICAgICAgY2MgPSBlbV9kYXRhWyJjYyJdCiAgICAgICAgaWYgKGNjID09IE5vbmUpOgogICAgICAgICAgICBjYyA9ICJOb25lIgogICAgICAgIHRvID0gZW1fZGF0YVsidG8iXQogICAgICAgIHN1YiA9IGVtX2RhdGFbInN1YmplY3QiXQogICAgICAgIG1haWxfZGF0YSA9IGVtX2RhdGFbImJvZHlfdGV4dCJdCiAgICAgICAgYXR0Y2ggPSBlbV9kYXRhWyJhdHRhY2htZW50cyJdCiAgICAgICAgcHNiKCJcMDMzWzkybVxuXG4gICAgICAgICAgICBbKl0gSW5ib3ggOiBcMDMzWzM3bTAiK3N0cihlbV9jb250KSkKICAgICAgICAKICAgICAgICBwcmludCgiXDAzM1s5Mm1cblsqXSBGcm9tICAgIDogXDAzM1szN20iK2ZybSkKICAgICAgICBwcmludCgiXDAzM1s5Mm1cblsqXSBUbyAgICAgIDogXDAzM1szN20iK3RvKQogICAgICAgIHByaW50KCJcMDMzWzkybVxuWypdIENDICAgICAgOiBcMDMzWzM3bSIrY2MpCiAgICAgICAgcHJpbnQoIlwwMzNbOTJtXG5bKl0gU3ViamVjdCA6IFwwMzNbMzdtIitzdWIpCiAgICAgICAgcHJpbnQoIlxuXDAzM1s5Mm1bKl0gTWFpbCAgICA6XDAzM1szN21cblxuIittYWlsX2RhdGEpCiAgICAgICAgaWYgbm90IChhdHRjaCA9PSAiW10iKToKICAgICAgICAgICAgYXRjX251bSA9IDEKICAgICAgICAgICAgZm9yIGF0YyBpbiBhdHRjaDoKICAgICAgICAgICAgICAgIGlkID0gYXRjWyJpZCJdCiAgICAgICAgICAgICAgICBkb3duID0gImh0dHBzOi8vYXBpLmludGVybmFsLnRlbXAtbWFpbC5pby9hcGkvdjMvYXR0YWNobWVudC8iK2lkKyI/ZG93bmxvYWQ9MSIKICAgICAgICAgICAgICAgIHByaW50KCJcMDMzWzkybVxuWypdIEF0dGFjaG1lbnQgTm8gOiBcMDMzWzM3bTAiK3N0cihhdGNfbnVtKSkKICAgICAgICAgICAgICAgIHByaW50KCJcMDMzWzkybVxuWypdIEZpbGUgTmFtZSA6IFwwMzNbMzdtIithdGNbIm5hbWUiXSkKICAgICAgICAgICAgICAgIHByaW50KCJcMDMzWzkybVxuWypdIEZpbGUgU2l6ZSA6IFwwMzNbMzdtIitzdHIoYXRjWyJzaXplIl0pKyJcMDMzWzkybSAgWyBCeXRlcyBdIikKICAgICAgICAgICAgICAgIHByaW50KCJcMDMzWzkybVxuWypdIERvd25sb2FkIEZyb20gSGVyZSA6IFwwMzNbMzdtIitkb3duKQogICAgICAgICAgICAgICAgYXRjX251bSA9IGF0Y19udW0gKyAxCiAgICAgICAgZW1fY29udCA9IGVtX2NvbnQgKyAxCgoKICAgIApkZWYgaW52b3gobWRhdGEpOgogICAgcHNiKCJcMDMzWzkybVxuICAgIFsqXSBQcmVzcyBjdHJsIFRoZW4gYyBUbyBHbyBCYWNrIFRvIE1haW4gTWVudS4uLiIpCiAgICBwc2IoIlxuXHRcdFwwMzNbOTJtXDAzM1szM21bXDAzM1szNG0qXDAzM1szM21dIFwwMzNbOTJtSW5ib3ggXDAzM1szM21bXDAzM1szNG0qXDAzM1szM21dIFwwMzNbMzdtIikKICAgIHVybCA9ICJodHRwczovL2FwaS5pbnRlcm5hbC50ZW1wLW1haWwuaW8vYXBpL3YzL2VtYWlsLyIrbWRhdGErIi9tZXNzYWdlcyIKICAgIHdoaWxlIFRydWU6CiAgICAgICAgdHJ5OgogICAgICAgICAgICByZSA9IHJlcXVlc3RzLmdldCh1cmwpLnRleHQKICAgICAgICAgICAgaWYgbm90IHJlID09ICJbXVxuIjoKICAgICAgICAgICAgICAgIHByaW50X21haWwocmUpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMC41KQogICAgICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgICAgICAgICAgYnJlYWsKCgpkZWYgc2VlX21haWwoKToKICAgIGxvZ28oKQogICAgaWYgb3MucGF0aC5leGlzdHMoIi5tYWlsIik6CiAgICAgICAgb2xkX21haWxzID0gb3BlbigiLm1haWwiLCAiciIpLnJlYWRsaW5lcygpCiAgICAgICAgbW4gPSAxCiAgICAgICAgcHNiKCJcMDMzWzkybVxuICAgIFsqXSBZb3VyIENyZWF0ZWQgRW1haWxzIDogXG4iKQogICAgICAgIGZvciBtYWlsIGluIG9sZF9tYWlsczoKICAgICAgICAgICAgcHNiKCJcMDMzWzkybSAgICBbMCIrc3RyKG1uKSsiXSBcMDMzWzM3bSIrbWFpbCkKICAgICAgICAgICAgbW4gPSBtbiArIDEKICAgIGVsc2U6CiAgICAgICAgdGltZS5zbGVlcCgwLjgpCiAgICAgICAgcHNiKCJcblwwMzNbOTJtICAgIFshXSBZb3UgQ3VycmVudGx5IEhhdmUgTm8gT2xkIE1haWwgQWRkcmVzcyIpCgoKZGVmIGxvZ19vbGQoKToKICAgIGxvZ28oKQogICAgdHJ5OgogICAgICAgIG9sZF9tYWlscyA9IG9wZW4oIi5tYWlsIiwgInIiKS5yZWFkbGluZXMoKQogICAgZXhjZXB0OgogICAgICAgIHBzYigiXDAzM1s5Mm1cbiAgICBbIV0gWW91IEN1cnJlbnRseSBIYXZlIE5vIE9sZCBNYWlsIEFkZHJlc3MgWyFdIikKICAgICAgICByZXR1cm4gTm9uZQogICAgaWYgbm90IChvbGRfbWFpbHMgPT0gIltdIik6CiAgICAgICAgcHNiKCJcMDMzWzkybVxuICAgIFsqXSBDb3B5IFRoZSBNYWlsIFlvdSBXYW50IFRvIFJlc3RvcmUgYW5kIFBhc3QgQmVsb3cuLi5cbiIpCiAgICAgICAgZm9yIG1haWwgaW4gb2xkX21haWxzOgogICAgICAgICAgICBpZiAobWFpbCA9PSAiIik6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBwc2IoIlwwMzNbOTJtICAgIFsjXSBcMDMzWzM3bSIrbWFpbCkKICAgICAgICBtb2xkID0gaW5wdXQoIlwwMzNbOTJtXG4gICAgWypdIFBhc3QgWW91ciBNYWlsOj4gXDAzM1szN20iKQogICAgICAgIHdoaWxlIG5vdCBtb2xkKyJcbiIgaW4gb2xkX21haWxzIGFuZCBub3QgbW9sZCBpbiBvbGRfbWFpbHMgYW5kIG5vdCBtb2xkID09ICIiOgogICAgICAgICAgICBwc2IoIlxuXDAzM1s5MW0gICAgWyFdIE9ubHkgUGFzdCBFbWFpbHMgRnJvbSBBYm92ZS4uLlwwMzNbMzdtIikKICAgICAgICAgICAgbW9sZCA9IGlucHV0KCJcMDMzWzkybVxuICAgIFsqXSBQYXN0IHlvdXIgTWFpbDo+IFwwMzNbMzdtIikKICAgICAgICBpZiAobW9sZCA9PSAiIik6CiAgICAgICAgICAgIG1vbGQgPSBOb25lCiAgICAgICAgcmV0dXJuIG1vbGQKICAgIGVsc2U6CiAgICAgICAgcHNiKCJcMDMzWzkybVxuICAgIFshXSBZb3UgQ3VycmVudGx5IEhhdmUgTm8gT2xkIE1haWwgQWRkcmVzcyBbIV0iKQogICAgICAgIHJldHVybiBOb25lCgoKZGVmIHJlbW92ZSgpOgogICAgbG9nbygpCiAgICBwc2IoIlwwMzNbOTJtXG4gICAgWypdIFJlbW92aW5nIEFsbCBPbGQgTWFpbCdzIERhdGEuLi4iKQogICAgcHNiKCJcbiAgICBbKl0gUGxlYXNlIFdhaXQuLi4uIikKICAgIHRpbWUuc2xlZXAoMC44KQogICAgdHJ5OgogICAgICAgIG9zLnN5c3RlbSgicm0gLm1haWwiKQogICAgZXhjZXB0OgogICAgICAgIHBhc3MKICAgIHRyeToKICAgICAgICBvcy5zeXN0ZW0oInJtIC50bXAiKQogICAgZXhjZXB0OgogICAgICAgIHBhc3MKICAgIHBzYigiXG4gICAgWypdIFN1Y2Nlc3NmdWxseSBSZW1vdmVkIEFsbCBPbGQgTWFpbHMgRGF0YS4uLiIpCgoKZGVmIG1haW4oKToKICAgIGxvZ28oKQogICAgcHNiKCJcMDMzWzkybVxuICAgIFsqXSBDaG9vc2UgWW91ciBNZXRob2QuLi4iKQogICAgcHJpbnQoIlxuICAgIFswMV0gR2VuYXJhdGUgUmFuZG9tIE1haWwiKQogICAgcHJpbnQoIiAgICBbMDJdIERlc2luZSBBbiBFbWFpbCBBZGRyZXNzIikKICAgIHByaW50KCIgICAgWzAzXSBTZWUgTWFpbHMgWW91IENyZWF0ZWQiKQogICAgcHJpbnQoIiAgICBbMDRdIExvZyBJbiBUbyBPbGQgTWFpbHMiKQogICAgcHJpbnQoIiAgICBbMDVdIFJlbW92ZSBBbGwgT2xkIE1haWwncyBEYXRhIikKICAgIHByaW50KCIgICAgWyMjXSBFeGl0IikKICAgIG9wID0gaW5wdXQoIlwwMzNbOTJtXG4gICAgWypdIENob29zZSBZb3VyIE9wdGlvbjo+IFwwMzNbMzdtIikucmVwbGFjZSgiMCIsICIiKS5yZXBsYWNlKCIjIyIsICIjIikKICAgIHdoaWxlIG5vdCBvcCBpbiBbIjEiLCAiMiIsICIzIiwgIjQiLCAiNSIsICIjIl06CiAgICAgICAgcHJpbnQoIlxuXDAzM1s5MW0gICAgWyFdIENob29zZSBhIENvcnJlY3QgT3B0aW9uISFcMDMzWzM3bSIpCiAgICAgICAgb3AgPSBpbnB1dCgiXDAzM1s5Mm1cbiAgICBbKl0gQ2hvb3NlIFlvdXIgT3B0aW9uOj4gXDAzM1szN20iKS5yZXBsYWNlKCIwIiwgIiIpLnJlcGxhY2UoIiMjIiwgIiMiKQogICAgaWYgKG9wID09ICIxIik6CiAgICAgICAgbWRhdGEgPSByYW5kb21fbWFpbCgpCiAgICAgICAgZG9fbWFpbChtZGF0YSkKICAgICAgICBvID0gaW5wdXQoIlxuXDAzM1s5Mm0gICAgWypdIFByZXNzIEVudGVyIFRvIEdvIEJhY2suLi4uIikKICAgIGVsaWYgKG9wID09ICIyIik6CiAgICAgICAgbWRhdGEgPSBjcmVhdGVfbWFpbCgpCiAgICAgICAgZG9fbWFpbChtZGF0YSkKICAgICAgICBvID0gaW5wdXQoIlxuXDAzM1s5Mm0gICAgWypdIFByZXNzIEVudGVyIFRvIEdvIEJhY2suLi4uIikKICAgIGVsaWYgKG9wID09ICIzIik6CiAgICAgICAgc2VlX21haWwoKQogICAgICAgIG8gPSBpbnB1dCgiXG5cMDMzWzkybSAgICBbKl0gUHJlc3MgRW50ZXIgVG8gR28gQmFjay4uLi4iKQogICAgZWxpZiAob3AgPT0gIjQiKToKICAgICAgICBtZGF0YSA9IGxvZ19vbGQoKQogICAgICAgIGlmIG5vdCAobWRhdGEgPT0gTm9uZSk6CiAgICAgICAgICAgIGRvX21haWwobWRhdGEpCiAgICAgICAgbyA9IGlucHV0KCJcblwwMzNbOTJtICAgIFsqXSBQcmVzcyBFbnRlciBUbyBHbyBCYWNrLi4uLiIpCiAgICBlbGlmIChvcCA9PSAiNSIpOgogICAgICAgIHJlbW92ZSgpCiAgICAgICAgbyA9IGlucHV0KCJcblwwMzNbOTJtICAgIFsqXSBQcmVzcyBFbnRlciBUbyBHbyBCYWNrLi4uLiIpCiAgICBlbGlmIChvcCA9PSAiIyIpOgogICAgICAgIGxvZ291dCgpCiAgICAKICAgIApkZWYgZG9fbWFpbChtZGF0YSk6CiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoIi5tYWlsIik6CiAgICAgICAgb3Muc3lzdGVtKCJ0b3VjaCAubWFpbCIpCiAgICBmbW9wbiA9IG9wZW4oIi5tYWlsIiwgInIiKS5yZWFkKCkKICAgIGZtb3V0ID0gb3BlbigiLm1haWwiLCAidyIpCiAgICBpZiBub3QgKGZtb3BuID09ICIiKSBhbmQgbm90IChtZGF0YSBpbiBmbW9wbik6CiAgICAgICAgZm1vdXQud3JpdGUoZm1vcG4rIlxuIittZGF0YSkKICAgIGVsaWYgKGZtb3BuID09ICIiKToKICAgICAgICBmbW91dC53cml0ZShtZGF0YSkKICAgIGVsc2U6CiAgICAgICAgZm1vdXQud3JpdGUoZm1vcG4pCiAgICBmbW91dC5jbG9zZSgpCiAgICBsb2dvKCkKICAgIHBzYigiXDAzM1s5Mm1cbiAgICBbKl0gWW91ciBDcmVhdGVkIE1haWwgOiBcMDMzWzM3bSIrbWRhdGEpCiAgICBpbnZveChtZGF0YSkKICAgIAoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIHZlcl9jaGVjaygpCiAgICB3aGlsZSBUcnVlOgogICAgICAgIG1haW4oKQoK'))
